/*
  Contextual navigation
*/
.nav-contextual {
  position: relative;
  background-color: $color-med-txt;

  a:hover {color:#fff;}

  /* Scroll the contents of the navigation when the viewport is narrow enough */
  nav {
    overflow: scroll;
    -webkit-overflow-scrolling: touch;

    @include respond-min($palm) {overflow: hidden;}
  }
}

/* Clip scrollable contents (palm) */
.nav-contextual__clip {
  position: relative;

  @include to-rem(margin-right padding-right, $spacing-base +  $spacing-base);
}

/* Holds menus items and sets container to be wide-enough that they are horiz aligned */
.nav-contextual__main-items {
  width: 250%; /* magic number */
  > li {@include to-rem(margin-right, $spacing-base);}
}

  .nav-contextual__main-items > li a {
    @include to-rem(padding-top padding-bottom, $spacing-half);

    @include respond-min($non-palm) {
      @include to-rem(padding-top padding-bottom, $spacing-base);
    }

    border-bottom: 2px solid transparent;

    &.is-active {
      color: #fff;
      border-bottom-color: $color-brand;
    }
  }

  .nav-contextual__show-more {
    @include respond-min($palm) {display: none;}

    position: absolute;
    @include to-rem(top, 7); // half height
    @include to-rem(padding-left, $spacing-base);
    right: 0;
    color: $color-light-txt;
    @include linear-gradient(#f63, #ff6, top left, top right);
    background: -webkit-linear-gradient(left, rgba($color-med-txt, 0) 0%, rgba($color-med-txt, 1) 100%);
  }

// Centre selector / nearest centre
.nav-contextual__centre-selector {
  @include respond-max($palm) {border-top: 1px solid $color-light-txt;}
  @include respond-min($non-palm) {
    position: absolute;
    top:0;
    right:0;
    width: 100%;
    @include to-rem(padding-top padding-bottom, $spacing-half);

    text-align: right;
    label { display:inline-block; vertical-align: bottom; }
    select {display: inline-block;}
  }

  button {
    position: absolute;
    @include to-rem(top, $spacing-third);
    @include to-rem(right, $spacing-half);
  }

  @include respond-max($palm) {
    .nav-contextual__centre-selector-control {display:none;}
  }
}

.nav-contextual__centre-selector-control {
  @include font-size($font-size-sml);
  @include to-rem(padding-top padding-bottom, $spacing-third);
  color: $color-light-txt;

  label {@include to-rem(margin-right, $spacing-base);}
}

.nav-contextual__centre-selector__group {
  @include to-rem(margin-bottom, $spacing-quarter);
  background-color: $color-grey-3;
  border-radius: $border-radius;

  &:last-child {margin-bottom: 0;}
}