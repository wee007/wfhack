/* ======================================================================================
   @MODULES -> DETAIL VIEW
   ====================================================================================== */

/*
  Usage:
    Detail views for 'Products', 'Events' and 'Deals'.

  Note:
    At desktop size the detail views go into a dialog.

  Demo:
    Style Guide -> Modules -> Detail View
*/

.detail-view {
  @include font-size($font-size-sml);
  background-color: #fff;

  /* Adjustments at this breakpoint */
  @include respond-min($non-palm) {
    @include font-size($font-size);
    box-shadow: 0 1px 2px rgba(#000, 0.3);
    width: 92%;
    margin: 0 auto;
  }

  /* --Set fixed widths for each detail view at these breakpoints-- */

  /* Event */
  @include respond-min($ipad-portrait) {
    &.detail-view--event {@include to-rem(width, 680);}
  }

  /* Deal */
  @include respond-min(826) {
    &.detail-view--deal {@include to-rem(width, 760);}
  }

  /* Product */
  @include respond-min(978) {
    &.detail-view--product {@include to-rem(width, 900);}
  }

  /* --Global rules-- */

  /* Off with bottom margins */
  p {margin-bottom: 0;}

  /* Headings */
  .hn {font-family: $font-family-opensans;}

}

  /* --Global-- */

  /* Headings */
  .detail-view__hdr {
    @include font-size(27, 1.2);
    @extend %mrg-base;
    color: $color-dark-txt;

    /* Increase text size at this breakpoint */
    @include respond-min($non-palm) {
      @include font-size(36, 1.2);
    }
  }

  .detail-view__hdr-sub {
    @include font-size(18, 1.3);
    @include to-rem(margin-bottom, $spacing-half);
    color: $color-light-txt;

    /* Increase text size at this breakpoint */
    @include respond-min($non-palm) {
      @include font-size(24, 1.5);
    }
  }

  /* --Dividing lines-- */
  .detail-view__divider,
  .detail-view__divider--top-btm,
  .detail-view__divider--palm,
  .detail-view__divider--top-non-palm {
    border-style: solid;
    border-color: $color-grey-1;
    border-bottom-width: 1px;
  }

  /* Top & bottom */
  .detail-view__divider--top-btm {border-top-width: 1px;}

  /* Top only */
  .detail-view__divider--top-non-palm {border-width: 1px 0 0 0;}

  /* Dividers only at these breakpoints */
  @include respond-min($non-palm) {
    .detail-view__divider--palm {border-width: 0;}
  }

  @include respond-max($palm) {
    .detail-view__divider--top-non-palm {border-width: 0;}
  }

  /* Divider for columns at this breakpoint */
  @include respond-min($non-palm) {
    .detail-view__divider--col {position: relative;}

      .detail-view__divider--col-line {
        position: absolute;
        top: 0;
        background-color: $color-grey-1;
        width: 1px;
        height: 100%;
      }
  }

  /* Spacing */
  .detail-view__mrg-base {@extend %mrg-base;}

  .detail-view__mrg-half {@include to-rem(margin-bottom, $spacing-half);}

  /* Description */
  .detail-view__desc p {
    @include to-rem(margin-bottom, $spacing-half);
    line-height: 1.6;

    /* Turn off for last child */
    &:last-child {margin-bottom: 0;}
  }

  /* Subtle text */
  .detail-view__subtle-txt {color: $color-light-txt;}

  /* Check store availability */
  .detail-view__check-avble {

    .detail-view__subtle-txt {@include font-size($font-size-sml);}

    /* Phone no + icon */
    em {
      @include font-size($font-size-lrg);
      display: block;

      /* Make inline and create left spacing at this breakpoint */
      @include respond-min(900) {
        display: inline;
        @include to-rem(margin-left, $spacing-base);
      }
    }
  }

  /* --Controls-- */
  .detail-view__controls {

    /* Horizontal list */
    > .horiz-list {

      /* Adjustments at this breakpoint */
      @include respond-min($non-palm) {
        text-align: left;
      }

        > li {
          border-color: $color-grey-1;
          width: 50%;

          /* Change display at this breakpoint */
          @include respond-min($non-palm) {
            display: inline-block;
            width: auto;

            /* Add right border for last child */
            &:last-child {border-right: 1px solid $color-grey-1;}
          }
        }
      }

        /* Buttons */
        .detail-view__controls__btn {
          display: inline-block;
          width: 100%;
          @include to-rem(padding, 12 $spacing-base+$spacing-half 11);
          @include font-size($font-size-sml, 1);

          /* Icon */
          .icon--share:before {top: -2px;}
        }
  }

    /*.detail-view__controls__button--close {
      border: 0;
      background-color: black;
      color: white;
      float: right;
      border-bottom: 1px solid black;
      display: none;
      @include to-rem(width, 40);
      @include to-rem(padding, $spacing-half);

      @include respond-min($non-palm) {
        display: block;
      }
    }*/

  /* --Variations-- */

  /* -Product- */
  .detail-view--product {

    /* Divider for columns */
    .detail-view__divider--col-line {left: 60%;}

    /* Meta */
    .detail-view__meta em {
      display: block;
      @include font-size(18, 1.3);

      /* Sale price */
      &.detail-view__meta__sale-price {
        color: $color-brand;

        span {
          color: $color-dark-txt;
          text-decoration: line-through;
        }
      }
    }

  }

  /* -Event- */
  .detail-view--event {

    /* Meta */
    .detail-view__meta li {
      width: 50%;
      @include to-rem(padding-right, $spacing-half);

      /* Turn off for last child */
      &:last-child {
        padding-right: 0;
        text-align: right;
      }
    }

  }