/* ======================================================================================
   @MODULES -> NAV CONTEXTUAL
   ====================================================================================== */

/*
  Usage:
    Contextual nav that's scrollable at smaller viewport

  Demo:
    Style Guide -> Modules -> Nav Contextual
*/

.nav-contextual {
  position: relative;
}

  /* Clip scrollable contents (palm) */
  .nav-contextual__clip {
    @include to-rem(margin-right, $spacing-base +  $spacing-base);
  }

    /* Scroll the contents of the navigation when the viewport is narrow enough */
    .nav-contextual__clip-inner {
      overflow-x: scroll;
      -webkit-overflow-scrolling: touch;
    }

  /* List of nav items */
  .nav-contextual__list {
    /* Sets container to be wide-enough that they are horiz aligned. Just a magic number */
    width: 250%;

    > li {@include to-rem(margin-right, $spacing-base);}
  }

    .nav-contextual__list > li a {
      @include to-rem(padding-top padding-bottom, $spacing-half);

      @include respond-min($non-palm) {
        @include to-rem(padding-top padding-bottom, $spacing-base);
      }

      border-bottom: 2px solid transparent;

      &.is-active {
        border-bottom-color: $color-brand;
      }
    }

    /* Gradient that lays on top of the list */
    .nav-contextual__overlay {
      position: absolute;
      top: 0;
      right: 0;
      @include to-rem(padding-top padding-bottom, $spacing-third);
      @include to-rem(padding-left, $spacing-base +  $spacing-base);

      @include respond-min($non-palm) {
        @include to-rem(padding-top padding-bottom, $spacing-base - 4);
      }
    }

/* --Extenders-- */

/* Dark color */
.nav-contextual--dark {

  a {
    color: $color-light-txt;

    &:hover,
    &:focus {color: #fff;}
  }

  .nav-contextual__list > li a {
    &.is-active {
      color: #fff;
    }
  }

    .nav-contextual__overlay {
      color: $color-light-txt;
      @include linear-gradient($from: rgba($color-med-txt, 0) 0%, $to: rgba($color-med-txt, 1) 50%, $dir: right, $override-bg-color: false, $bg-color-override: "")
    }
}