/* ======================================================================================
   @MODULES -> WIDGETS -> MODAL
   ====================================================================================== */

/*
	Usage: 
		Typically for dialog prompts e.g. warning/error messages in the form of an overlay (child window). Depending on the jQuery plugin configuration the parent window (page the dialog is overlaying) can either be interacted with again i.e. closing the dialog by clicking anywhere outside the dialog or by only clicking the 'Close' button within the dialog (the latter is true modal behaviour).
	
	Note: 
		`.is-modal-active` class gets appended to the `body` element when the modal is open.
	
	Demo:
		Style Guide -> Modules -> Widgets -> Modal
		
	Credit: 
		http://twitter.github.com/bootstrap/javascript.html#modals
*/

/* Shared fade state */
.modal.is-fade,
.modal-backdrop.is-fade {
	opacity: 0;
	@include prefix(transition, opacity 0.15s);
}

/* Modal backdrop */
.modal-backdrop {
	position: fixed;
	top: 0;
	right: 0;
	bottom: 0;
	left: 0;
	z-index: $z-index-max - 1;
	background-color: #000;
	
	&,
	&.is-fade.is-active {@include opacity(0.8);}
}

/* Modal */
.modal {
	display: none;
	position: fixed;
	top: 50%;
	left: 50%;
	z-index: $z-index-max; 
	width: 90%;
	margin: -60px 0 0 -45%;
	background-color: #fff;
	border-radius: 6px;
	outline: none;
	box-shadow: 0 3px 7px rgba(#000, 0.3);
	
	/* Fix the width and adjust offsets at this breakpoint */
	@include respond-min($ipad-portrait) {
		width: to-em(560);
		margin-top: -250px;
		margin-left: -280px;
	}
	
	/* Fade state */
	&.is-fade {
		top: -25%;
		@include prefix(transition, opacity 0.3s linear, top 0.3s ease-out);
		
		/* Active state */
		&.is-active {
			top: 50%;
			opacity: 1;
		}
	}
}

	/* Modal header */
	.modal__header {
		@include to-em(padding, $spacing-quarter $font-size); 
		border-bottom: 1px solid $color-grey-lighter;
		position: relative;
		
			/* Modal title */
			.hn {margin: 0;}
			
			/* Close button */
			.btn--close {
				position: absolute;
				right: to-em(10);
				top: 50%;
				margin-top: -(to-em(11));
			}
	}

	/* Modal body */
	.modal__body {
		max-height: to-em(200);
		padding: to-em($font-size);
		overflow-y: auto;
		
		/* Increase the max height at this breakpoint */
		@include respond-min($ipad-portrait) {
			max-height: to-em(400);
		}
	}
	
	/* Modal footer */
	.modal__footer {
		padding: to-em($font-size);
		text-align: right;
		background-color: $color-off-white;
		border-top: 1px solid $color-grey-lighter;
		border-radius: 0 0 6px 6px;
		box-shadow: inset 0 1px 0 #fff;
		@extend %clear-fix;
	}